<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MovieFinder by Idyllize</title>
<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

body {
font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
background: linear-gradient(135deg, #0c0c0c 0%, #1a0033 25%, #330066 50%, #4d0099 75%, #6600cc 100%);
min-height: 100vh;
padding: 20px;
color: #333;
animation: gradientShift 15s ease infinite;
}

@keyframes gradientShift {
0%, 100% { background: linear-gradient(135deg, #0c0c0c 0%, #1a0033 25%, #330066 50%, #4d0099 75%, #6600cc 100%); }
33% { background: linear-gradient(135deg, #001122 0%, #003366 25%, #0066cc 50%, #3399ff 75%, #66ccff 100%); }
66% { background: linear-gradient(135deg, #1a0033 0%, #4d0099 25%, #8000ff 50%, #b366ff 75%, #e6ccff 100%); }
}

.container {
max-width: 1400px;
margin: 0 auto;
background: rgba(255, 255, 255, 0.95);
border-radius: 32px;
box-shadow: 0 40px 80px rgba(0,0,0,0.4), 0 0 0 1px rgba(255,255,255,0.1), inset 0 1px 0 rgba(255,255,255,0.2);
overflow: hidden;
backdrop-filter: blur(30px);
border: 1px solid rgba(255,255,255,0.1);
}

.header {
background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 25%, #a855f7 50%, #c084fc 75%, #e879f9 100%);
color: white;
padding: 4rem 2rem;
text-align: center;
position: relative;
overflow: hidden;
}

.header::before {
content: '';
position: absolute;
top: -100%;
left: -100%;
width: 300%;
height: 300%;
background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 50%);
animation: aurora 12s ease-in-out infinite;
}

@keyframes aurora {
0%, 100% { transform: translateY(0px) rotate(0deg) scale(1); }
33% { transform: translateY(-30px) rotate(120deg) scale(1.1); }
66% { transform: translateY(20px) rotate(240deg) scale(0.9); }
}

.header h1 {
font-size: clamp(3rem, 8vw, 5rem);
margin-bottom: 1rem;
text-shadow: 0 8px 16px rgba(0,0,0,0.3), 0 0 40px rgba(255,255,255,0.2);
position: relative;
z-index: 1;
font-weight: 800;
letter-spacing: -0.03em;
color: white;
}

.header p {
font-size: clamp(1.2rem, 4vw, 1.6rem);
opacity: 0.95;
position: relative;
z-index: 1;
font-weight: 400;
text-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.brand-footer {
font-size: 1.1rem;
margin-top: 1rem;
opacity: 0.9;
position: relative;
z-index: 1;
font-weight: 300;
}

.search-section {
padding: 3rem 2rem;
}

.search-container {
display: flex;
gap: 20px;
margin-bottom: 3rem;
max-width: 800px;
margin-left: auto;
margin-right: auto;
flex-wrap: wrap;
}

.search-input {
flex: 1;
min-width: 300px;
padding: 1.5rem 2rem;
border: 3px solid transparent;
border-radius: 20px;
font-size: 18px;
transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
background: linear-gradient(white, white) padding-box, linear-gradient(135deg, #6366f1, #8b5cf6, #a855f7) border-box;
font-weight: 500;
box-shadow: 0 8px 32px rgba(99, 102, 241, 0.2);
}

.search-input:focus {
outline: none;
box-shadow: 0 0 0 6px rgba(99, 102, 241, 0.2), 0 16px 40px rgba(99, 102, 241, 0.3);
transform: translateY(-4px);
}

.search-btn {
padding: 1.5rem 2.5rem;
background: linear-gradient(135deg, #6366f1, #8b5cf6, #a855f7);
color: white;
border: none;
border-radius: 20px;
cursor: pointer;
font-size: 18px;
font-weight: 700;
transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
white-space: nowrap;
min-width: 160px;
box-shadow: 0 12px 24px rgba(99, 102, 241, 0.4);
text-transform: uppercase;
letter-spacing: 0.5px;
}

.search-btn:hover {
transform: translateY(-4px) scale(1.02);
box-shadow: 0 20px 40px rgba(99, 102, 241, 0.5);
}

.trending-section {
background: linear-gradient(135deg, #fef7ff 0%, #f3e8ff 50%, #e9d5ff 100%);
border-radius: 24px;
padding: 2.5rem;
margin-bottom: 3rem;
border: 2px solid rgba(168, 85, 247, 0.2);
box-shadow: 0 16px 32px rgba(168, 85, 247, 0.1);
}

.trending-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 2rem;
}

.trending-header h4 {
font-size: 1.8rem;
font-weight: 800;
color: #581c87;
display: flex;
align-items: center;
gap: 1rem;
}

.refresh-btn {
background: linear-gradient(135deg, #a855f7, #8b5cf6);
color: white;
border: none;
padding: 0.8rem 1.5rem;
border-radius: 16px;
font-size: 1rem;
cursor: pointer;
transition: all 0.3s ease;
font-weight: 600;
box-shadow: 0 6px 12px rgba(168, 85, 247, 0.3);
}

.refresh-btn:hover {
transform: scale(1.05) translateY(-2px);
box-shadow: 0 8px 16px rgba(168, 85, 247, 0.4);
}

.movie-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
gap: 1.5rem;
}

.movie-link {
background: linear-gradient(135deg, #6366f1, #8b5cf6, #a855f7);
color: white;
padding: 0;
border-radius: 20px;
text-decoration: none;
text-align: center;
font-weight: 600;
font-size: 1rem;
transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
display: flex;
flex-direction: column;
position: relative;
overflow: hidden;
box-shadow: 0 8px 24px rgba(99, 102, 241, 0.3);
}

.movie-link::before {
content: '';
position: absolute;
top: 0;
left: 0;
right: 0;
bottom: 0;
background: linear-gradient(135deg, rgba(255,255,255,0.1), transparent);
opacity: 0;
transition: opacity 0.3s ease;
}

.movie-link:hover::before {
opacity: 1;
}

.movie-link:hover {
transform: translateY(-8px) scale(1.02);
box-shadow: 0 16px 40px rgba(99, 102, 241, 0.4);
}

.movie-poster-trending {
width: 100%;
height: 280px;
object-fit: cover;
border-radius: 20px 20px 0 0;
background: linear-gradient(135deg, #e5e7eb, #d1d5db);
}

.movie-info-trending {
padding: 1.5rem;
display: flex;
flex-direction: column;
gap: 0.8rem;
flex-grow: 1;
}

.movie-title {
font-weight: 800;
font-size: 1.1rem;
line-height: 1.3;
text-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.movie-year {
font-size: 0.9rem;
opacity: 0.9;
}

.movie-rating {
font-size: 0.9rem;
background: rgba(255,255,255,0.25);
padding: 0.4rem 0.8rem;
border-radius: 16px;
align-self: center;
font-weight: 700;
backdrop-filter: blur(10px);
}

.trending-loading, .trending-error {
text-align: center;
padding: 2rem;
color: #581c87;
font-weight: 600;
background: rgba(168, 85, 247, 0.1);
border-radius: 16px;
border: 2px dashed rgba(168, 85, 247, 0.3);
}

.loading {
text-align: center;
padding: 4rem;
display: none;
}

.spinner {
width: 80px;
height: 80px;
border: 6px solid rgba(99, 102, 241, 0.2);
border-top: 6px solid #6366f1;
border-radius: 50%;
animation: spin 1s linear infinite;
margin: 0 auto 2rem;
}

@keyframes spin {
0% { transform: rotate(0deg); }
100% { transform: rotate(360deg); }
}

.site-results {
margin-bottom: 2rem;
border-radius: 24px;
overflow: hidden;
box-shadow: 0 16px 32px rgba(0,0,0,0.15);
background: white;
border: 2px solid rgba(99, 102, 241, 0.1);
}

.site-header {
background: linear-gradient(135deg, #6366f1, #8b5cf6, #a855f7);
color: white;
padding: 2.5rem;
font-weight: 800;
font-size: 1.4rem;
display: flex;
justify-content: space-between;
align-items: center;
}

.movie-item {
padding: 2.5rem;
border-bottom: 2px solid #f8fafc;
display: grid;
grid-template-columns: auto 1fr auto;
gap: 2rem;
align-items: center;
transition: all 0.4s ease;
}

.movie-item:hover {
background: linear-gradient(135deg, #faf5ff, #f3e8ff);
transform: translateX(12px);
}

.movie-poster {
width: 80px;
height: 120px;
border-radius: 16px;
object-fit: cover;
background: #e5e7eb;
transition: transform 0.4s ease;
box-shadow: 0 8px 16px rgba(0,0,0,0.15);
}

.movie-title-result {
font-size: 1.5rem;
font-weight: 800;
color: #1f2937;
margin-bottom: 0.8rem;
line-height: 1.4;
}

.movie-overview {
color: #6b7280;
font-size: 1.1rem;
margin-bottom: 1.2rem;
display: -webkit-box;
-webkit-line-clamp: 2;
-webkit-box-orient: vertical;
overflow: hidden;
line-height: 1.6;
}

.movie-meta {
display: flex;
gap: 1rem;
flex-wrap: wrap;
}

.meta-badge {
padding: 0.5rem 1.2rem;
border-radius: 16px;
font-size: 0.9rem;
font-weight: 700;
white-space: nowrap;
}

.year-badge { background: #6b7280; color: white; }
.type-badge { background: #0ea5e9; color: white; }
.rating-badge { background: #f59e0b; color: white; }
.id-badge { background: #10b981; color: white; }

.watch-btn {
background: linear-gradient(135deg, #6366f1, #8b5cf6, #a855f7);
color: white;
padding: 1.2rem 2.5rem;
border-radius: 20px;
text-decoration: none;
font-weight: 700;
transition: all 0.4s ease;
text-align: center;
min-width: 160px;
box-shadow: 0 8px 16px rgba(99, 102, 241, 0.3);
text-transform: uppercase;
letter-spacing: 0.5px;
}

.watch-btn:hover {
transform: translateY(-4px) scale(1.02);
box-shadow: 0 12px 24px rgba(99, 102, 241, 0.4);
}

.site-links {
margin-top: 3rem;
padding: 3rem;
background: linear-gradient(135deg, #f8fafc, #f1f5f9);
border-radius: 24px;
text-align: center;
border: 2px solid rgba(99, 102, 241, 0.1);
}

.site-links h4 {
margin-bottom: 2.5rem;
color: #1f2937;
font-size: 1.6rem;
font-weight: 800;
}

.site-link {
display: inline-block;
margin: 1rem;
padding: 1.5rem 2.5rem;
background: linear-gradient(135deg, #6366f1, #8b5cf6, #a855f7);
color: white;
text-decoration: none;
border-radius: 20px;
font-weight: 700;
transition: all 0.4s ease;
box-shadow: 0 8px 16px rgba(99, 102, 241, 0.3);
}

.site-link:hover {
transform: translateY(-4px) scale(1.02);
box-shadow: 0 16px 32px rgba(99, 102, 241, 0.4);
}

.message {
padding: 2rem;
border-radius: 20px;
margin: 2rem 0;
font-weight: 600;
border: 2px solid;
}

.error-message {
background: linear-gradient(135deg, #fef2f2, #fee2e2);
border-color: #fca5a5;
color: #dc2626;
}

.success-message {
background: linear-gradient(135deg, #f0fdf4, #dcfce7);
border-color: #86efac;
color: #16a34a;
}

.no-results {
text-align: center;
padding: 5rem;
color: #6b7280;
display: none;
}

/* Mobile Optimizations */
@media (max-width: 768px) {
body { padding: 10px; }
.container { border-radius: 24px; }
.header { padding: 3rem 1.5rem; }
.search-section { padding: 2rem 1.5rem; }
.search-container { flex-direction: column; gap: 1rem; }
.search-input { min-width: unset; width: 100%; }
.search-btn { width: 100%; }
.trending-section { padding: 2rem; }
.movie-grid { grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); }
.movie-item { grid-template-columns: auto 1fr; gap: 1rem; }
.watch-btn { grid-column: 1 / -1; margin-top: 1rem; }
.site-link { display: block; margin: 0.5rem 0; width: 100%; }
}
</style>
</head>
<body>
<div class="container">
<div class="header">
    <h1>üé¨ MovieFinder</h1>
    <p>Discover & Stream Movies and TV Shows</p>
    <div class="brand-footer">by Idyllize ‚Ä¢ Made with Love ‚ù§Ô∏è</div>
</div>

<div class="search-section">
    <div class="search-container">
        <input type="text" class="search-input" placeholder="Search movies & TV shows..." id="movieInput" value="Avengers">
        <button class="search-btn" onclick="searchMovies()">üîç Search</button>
    </div>

    <div class="trending-section">
        <div class="trending-header">
            <h4>üî• Trending Movies</h4>
            <button class="refresh-btn" onclick="fetchTrendingMovies()" title="Refresh trending movies">
                üîÑ Refresh
            </button>
        </div>
        <div class="movie-grid" id="trendingGrid">
            <div class="trending-loading">Loading trending movies...</div>
        </div>
    </div>
    
    <div class="loading" id="loading">
        <div class="spinner"></div>
        <p>Searching for movies...</p>
    </div>
    
    <div class="results" id="results"></div>
    
    <div class="no-results" id="noResults">
        <h3>üîç No Results Found</h3>
        <p>Try a different search term or check out our trending movies above</p>
    </div>

    <div class="site-links">
        <h4>üåê Streaming Platforms</h4>
        <a href="https://flixbaba.net/" target="_blank" class="site-link">üé≠ FlixBaba</a>
        <a href="https://2flix.to/" target="_blank" class="site-link">üé¨ 2Flix</a>
        <a href="https://fmovies.to/" target="_blank" class="site-link">üì∫ FMovies</a>
        <a href="https://soap2day.ac/" target="_blank" class="site-link">üé™ Soap2Day</a>
    </div>
</div>
</div>

<script>
const TMDB_API_KEY = '3fd2be6f0c70a2a598f084ddfb75487c';
const TMDB_BASE_URL = 'https://api.themoviedb.org/3';
const TMDB_IMAGE_BASE = 'https://image.tmdb.org/t/p/w500';

document.addEventListener('DOMContentLoaded', () => {
fetchTrendingMovies();
document.getElementById('movieInput').addEventListener('keypress', (e) => {
  if (e.key === 'Enter') searchMovies();
});
});

function createSlug(title) {
return title.toLowerCase().replace(/[^\w\s-]/g, '').replace(/\s+/g, '-').replace(/-+/g, '-').trim();
}

function createMovieUrl(id, title) {
return `https://flixbaba.net/movie/${id}/${createSlug(title)}`;
}

async function fetchTrendingMovies() {
const trendingGrid = document.getElementById('trendingGrid');
trendingGrid.innerHTML = '<div class="trending-loading">üîÑ Fetching latest trending movies...</div>';

try {
    const response = await fetch(`${TMDB_BASE_URL}/trending/movie/week?api_key=${TMDB_API_KEY}`);
    
    if (!response.ok) {
        throw new Error(`API error: ${response.status}`);
    }
    
    const data = await response.json();
    const trendingMovies = data.results.slice(0, 12).map(movie => ({
        id: movie.id,
        title: movie.title,
        year: movie.release_date ? new Date(movie.release_date).getFullYear() : 'N/A',
        rating: movie.vote_average ? `${(movie.vote_average * 10).toFixed(0)}%` : '',
        poster: movie.poster_path ? `${TMDB_IMAGE_BASE}${movie.poster_path}` : null,
        slug: createSlug(movie.title)
    }));
    
    if (trendingMovies.length > 0) {
        displayTrendingMovies(trendingMovies);
        console.log('‚úÖ Successfully fetched trending movies from TMDB');
    } else {
        throw new Error('No trending movies found');
    }
    
} catch (error) {
    console.warn('‚ö†Ô∏è Failed to fetch trending movies:', error.message);
    trendingGrid.innerHTML = `
        <div class="trending-error">
            ‚ö†Ô∏è Unable to load trending movies: ${error.message}
            <br><small>Please try again or use the search feature above</small>
        </div>
    `;
}
}

function displayTrendingMovies(movies) {
const trendingGrid = document.getElementById('trendingGrid');

trendingGrid.innerHTML = movies.map(movie => `
    <a href="${createMovieUrl(movie.id, movie.title)}" target="_blank" class="movie-link">
        ${movie.poster ? 
            `<img src="${movie.poster}" alt="${movie.title}" class="movie-poster-trending">` : 
            `<div class="movie-poster-trending" style="display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #e5e7eb, #d1d5db); color: #6b7280; font-size: 3rem;">üé¨</div>`
        }
        <div class="movie-info-trending">
            <div class="movie-title">${movie.title}</div>
            <div class="movie-year">${movie.year}</div>
            ${movie.rating ? `<div class="movie-rating">${movie.rating}</div>` : ''}
        </div>
    </a>
`).join('');
}

async function searchMovies() {
const searchTerm = document.getElementById('movieInput').value.trim();
const loading = document.getElementById('loading');
const results = document.getElementById('results');
const noResults = document.getElementById('noResults');

if (!searchTerm) {
    results.innerHTML = `
        <div class="message error-message">
            <strong>‚ùå Please enter a movie or TV show name</strong>
        </div>
    `;
    return;
}

results.innerHTML = '';
noResults.style.display = 'none';
loading.style.display = 'block';

try {
    const searchUrl = `${TMDB_BASE_URL}/search/multi?api_key=${TMDB_API_KEY}&query=${encodeURIComponent(searchTerm)}`;
    const response = await fetch(searchUrl);
    
    if (!response.ok) throw new Error(`API error: ${response.status}`);

    const data = await response.json();
    loading.style.display = 'none';

    if (data.results && data.results.length > 0) {
        const movies = data.results
            .filter(item => item.media_type === 'movie' || item.media_type === 'tv')
            .slice(0, 12)
            .map(item => ({
                id: item.id,
                title: item.title || item.name,
                url: createMovieUrl(item.id, item.title || item.name),
                type: item.media_type === 'movie' ? 'Movie' : 'TV Show',
                year: item.release_date || item.first_air_date 
                    ? new Date(item.release_date || item.first_air_date).getFullYear() 
                    : 'N/A',
                rating: item.vote_average ? item.vote_average.toFixed(1) : 'N/A',
                overview: item.overview || 'No description available',
                poster: item.poster_path ? `${TMDB_IMAGE_BASE}${item.poster_path}` : 
                    'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iOTAiIHZpZXdCb3g9IjAgMCA2MCA5MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iNjAiIGhlaWdodD0iOTAiIHJ4PSI4IiBmaWxsPSIjZTllY2VmIi8+PC9zdmc+'
            }));

        displayResults(movies);
        
        results.insertAdjacentHTML('afterbegin', `
            <div class="message success-message">
                <strong>‚úÖ Found ${movies.length} results!</strong> Click any "Watch Now" button to stream.
            </div>
        `);
    } else {
        noResults.style.display = 'block';
    }
} catch (error) {
    loading.style.display = 'none';
    results.innerHTML = `
        <div class="message error-message">
            <strong>‚ùå Search failed:</strong> ${error.message}<br>
            Try the manual search links below or check trending movies above.
        </div>
    `;
}
}

function displayResults(movies) {
const results = document.getElementById('results');
const siteResultsDiv = document.createElement('div');
siteResultsDiv.className = 'site-results';

siteResultsDiv.innerHTML = `
    <div class="site-header">
        <div style="display: flex; align-items: center; gap: 10px;">
            <span>üé¨</span>
            <span>FlixBaba Streaming Links</span>
        </div>
        <span>${movies.length} results</span>
    </div>
`;

movies.forEach(movie => {
    const movieDiv = document.createElement('div');
    movieDiv.className = 'movie-item';
    
    movieDiv.innerHTML = `
        <img src="${movie.poster}" alt="${movie.title} poster" class="movie-poster">
        <div class="movie-info">
            <div class="movie-title-result">${movie.title}</div>
            <div class="movie-overview">${movie.overview}</div>
            <div class="movie-meta">
                <span class="meta-badge year-badge">${movie.year}</span>
                <span class="meta-badge type-badge">${movie.type}</span>
                <span class="meta-badge rating-badge">${movie.rating}/10</span>
                <span class="meta-badge id-badge">ID: ${movie.id}</span>
            </div>
        </div>
        <a href="${movie.url}" target="_blank" class="watch-btn">Watch Now</a>
    `;
    
    siteResultsDiv.appendChild(movieDiv);
});

results.appendChild(siteResultsDiv);
}
</script>
</body>
</html>